<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="zcdseller">

	 <select id="selectOneMember" resultType="m">
	  select 
		  member_no as memberNo,
		  member_name as memberName,
		  member_id as memberId,
		  member_pw as memberPw,
		  member_phone as memberPhone,
		  member_level as memberLevel,
		  delivery_level as deliveryLevel
	  from member where member_id=#{memberId} and member_pw=#{memberPw}
	 </select>
	 
	 <select id="selectOneStoreName" resultType="string">
	  select 
		  store_name as storeName
	  from zcd_store where store_name=#{storeName}
	 </select>
	 
	 <select id="selectOneStorePhone" resultType="string">
	  select
		  store_Phone as storePhone
	  from zcd_store where store_phone=#{storePhone}
	 </select>
	 
	 <insert id="addMarket" parameterType="zs">
	 	insert into zcd_store values(store_seq.nextval, #{memberNo}, #{storeName}, #{storeTime}, #{storePhone}, #{storeInfo}, #{storeNotice}, #{storeTip},
	 		#{postcode}, #{address1}, #{address2}, #{minPrice}, default, #{originInfo}, #{category1}, #{category2})
	 	<!-- order: 수행 전/후 keyProperty: 어디에 넣을지 -->
  		<selectKey resultType="_int" order="AFTER" keyProperty="storeNo">
  			select max(store_no) from zcd_store
  		</selectKey>
	 </insert>
	 
	 <insert id="insertStoreLogo" parameterType="sl">
	 	insert into store_logo values(logo_seq.nextval, #{storeNo}, #{filename}, #{filepath})
	 </insert>
	 
</mapper>
